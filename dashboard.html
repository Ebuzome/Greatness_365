<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>365 · Binance | Dashboard</title>
    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Google Fonts: Inter, Orbitron, Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:opsz,wght@14..32,300..700&family=Orbitron:wght@500;700;900&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- D3.js and TopoJSON -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/topojson@3.0.2/dist/topojson.min.js"></script>
    <style>
        /* ---------- RESET & BASE – SOFTER BINANCE GOLD (#F0B90B) ---------- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: #1E2329;  /* Binance Shark – fixed dark mode */
            color: #FFFFFF;
            min-height: 100vh;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* ---------- BINANCE DARK MODE (ONLY) – REFINED GOLD #F0B90B ---------- */
        .top-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.9rem 2.5rem;
            background: rgba(30, 35, 41, 0.96);
            backdrop-filter: blur(14px) saturate(200%);
            border-bottom: 1px solid rgba(240, 185, 11, 0.15);  /* softer gold */
            position: sticky;
            top: 0;
            z-index: 100;
            transition: border-color 0.2s;
        }
        .top-nav:hover {
            border-bottom-color: rgba(240, 185, 11, 0.3);
        }

        .nav-left {
            display: flex;
            align-items: center;
            gap: 2.5rem;
        }
        .nav-link {
            display: flex;
            align-items: center;
            gap: 0.6rem;
            padding: 0.5rem 0;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.2, 0, 0, 1);
            border-bottom: 2px solid transparent;
            font-size: 1rem;
            color: #d1d5db;
            text-decoration: none;
            position: relative;
        }
        .nav-link i {
            color: #F0B90B;  /* softer Binance gold */
            font-size: 1.2rem;
            transition: transform 0.15s ease, filter 0.15s;
        }
        .nav-link:hover i {
            transform: scale(1.12) translateY(-1px);
            filter: drop-shadow(0 0 6px rgba(240, 185, 11, 0.4));
        }
        .nav-link.active {
            color: white;
            border-bottom: 2px solid #F0B90B;
            font-weight: 600;
        }
        .nav-link.active i {
            color: #F0B90B;
        }
        /* subtle hover underline */
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: #F0B90B;
            transition: width 0.2s ease;
        }
        .nav-link:hover::after {
            width: 100%;
        }
        .nav-link.active::after {
            display: none;
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 2rem;
        }
        .theme-toggle {
            display: none;  /* only dark mode */
        }
        .logout-link {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #F0B90B;
            font-weight: 600;
            cursor: pointer;
            padding: 0.4rem 1.2rem;
            border-radius: 40px;
            transition: all 0.2s;
            background: rgba(240, 185, 11, 0.06);
            border: 1px solid rgba(240, 185, 11, 0.2);
            text-decoration: none;
        }
        .logout-link:hover {
            background: rgba(240, 185, 11, 0.15);
            border-color: rgba(240, 185, 11, 0.5);
            transform: scale(1.02);
        }
        .logout-link i {
            color: #F0B90B;
        }

        /* ---------- MAIN CONTENT – POLISHED LAYOUT ---------- */
        .main-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem 2.5rem;
        }

        /* STATS GRID – 3x2 with cookies accent */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.2rem;
            margin-bottom: 2rem;
        }
        .stat-card {
            padding: 1.5rem 1rem;
            border-radius: 24px;
            text-align: center;
            border-bottom: 3px solid #F0B90B;
            background: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(8px);
            transition: transform 0.2s ease, box-shadow 0.2s;
            border: 1px solid rgba(240, 185, 11, 0.1);
            box-shadow: 0 8px 16px -12px black;
        }
        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 18px 28px -14px rgba(240, 185, 11, 0.3);
            border-color: rgba(240, 185, 11, 0.2);
        }
        .stat-card .value {
            font-size: 2.5rem;
            font-weight: 600;
            font-family: 'Orbitron', sans-serif;
            line-height: 1.2;
            color: white;
        }
        .stat-card .label {
            font-size: 0.9rem;
            letter-spacing: 0.5px;
            margin-top: 0.3rem;
            color: #b0b8c0;
        }
        .stat-card.cookies .label {
            color: #F0B90B;
            font-weight: 500;
        }

        /* ---------- MAP + COOKIES CARD ROW – EXPANDED MAP AREA ---------- */
        .map-cookies-row {
            display: grid;
            grid-template-columns: 2.4fr 1fr;  /* map gets more space */
            gap: 1.8rem;
            margin-bottom: 2rem;
        }
        .map-card {
            border-radius: 28px;
            padding: 1.5rem 1.5rem 1rem 1.5rem;
            border-bottom: 3px solid #F0B90B;
            background: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(240, 185, 11, 0.1);
            transition: box-shadow 0.2s;
        }
        .map-card:hover {
            box-shadow: 0 20px 30px -16px rgba(240, 185, 11, 0.25);
        }
        .map-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        .map-header h3 {
            font-size: 1rem;
            font-weight: 400;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #e0e6f0;
        }
        .map-header i {
            color: #F0B90B;
        }
        .map-legend {
            display: flex;
            gap: 1rem;
            font-size: 0.7rem;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }
        .legend-color {
            width: 10px;
            height: 10px;
            border-radius: 3px;
        }
        .legend-color.high { background: #F0B90B; }        /* gold */
        .legend-color.med { background: #f4a261; }        /* warm */
        .legend-color.low { background: #2a9d8f; }         /* teal */
        #world-map {
            width: 100%;
            height: 260px;  /* slightly taller for better presence */
            border-radius: 18px;
            overflow: hidden;
            transition: filter 0.2s;
        }
        #world-map svg {
            filter: drop-shadow(0 6px 10px #00000040);
        }

        /* Cookies card – refined */
        .cookies-card {
            border-radius: 28px;
            padding: 1.5rem;
            border-bottom: 3px solid #F0B90B;
            background: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(240, 185, 11, 0.1);
            display: flex;
            flex-direction: column;
            justify-content: center;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .cookies-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 18px 28px -14px rgba(240, 185, 11, 0.3);
            border-color: rgba(240, 185, 11, 0.2);
        }
        .cookies-header {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            margin-bottom: 1.5rem;
        }
        .cookies-header i {
            font-size: 2.2rem;
            color: #F0B90B;
        }
        .cookies-header h2 {
            font-size: 2rem;
            font-weight: 500;
            color: white;
        }
        .cookies-stats {
            display: flex;
            justify-content: space-around;
            text-align: center;
        }
        .cookies-stat .value {
            font-size: 1.8rem;
            font-weight: 600;
            font-family: 'Orbitron', sans-serif;
            color: white;
        }
        .cookies-stat .label {
            font-size: 0.8rem;
            color: #b0b8c0;
        }

        /* ---------- TABLE SECTION – EXACT 10 COLUMNS ---------- */
        .table-section {
            border-radius: 28px;
            padding: 1.5rem;
            border-bottom: 3px solid #F0B90B;
            background: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(240, 185, 11, 0.1);
            margin-bottom: 1.5rem;
            transition: box-shadow 0.2s;
        }
        .table-section:hover {
            box-shadow: 0 20px 30px -16px rgba(240, 185, 11, 0.2);
        }
        .table-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        .table-header h3 {
            font-size: 1.1rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: white;
        }
        .table-header i {
            color: #F0B90B;
            transition: transform 0.2s;
            cursor: default;
        }
        .table-header i:hover {
            transform: scale(1.1);
        }
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.85rem;
        }
        th {
            text-align: left;
            padding: 1rem 0.5rem;
            font-weight: 500;
            font-family: 'Poppins', sans-serif;
            color: #b0b8c0;
            border-bottom: 1px solid rgba(240, 185, 11, 0.2);
        }
        td {
            padding: 0.8rem 0.5rem;
            color: #d0d8e0;
            border-bottom: 1px solid rgba(240, 185, 11, 0.08);
        }
        .no-results {
            text-align: center;
            padding: 3rem 0;
            font-size: 0.95rem;
            color: #9aa4b0;
        }
        .no-results i {
            color: #F0B90B;
            margin-right: 0.5rem;
        }

        /* ---------- PAGINATION – 1/1 ---------- */
        .pagination {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            gap: 1rem;
            margin-top: 1.5rem;
            font-size: 0.9rem;
        }
        .pagination .page {
            padding: 0.3rem 1.2rem;
            border-radius: 30px;
            background: rgba(240, 185, 11, 0.08);
            border: 1px solid rgba(240, 185, 11, 0.2);
            color: #F0B90B;
        }
        .pagination i {
            color: #F0B90B;
            opacity: 0.6;
            transition: opacity 0.2s, transform 0.2s;
            cursor: default;
        }
        .pagination i:hover {
            opacity: 1;
            transform: scale(1.1);
        }

        /* Modal (unchanged, but with gold accent) */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(6px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        .modal-content {
            background: #1E2329;
            backdrop-filter: blur(16px);
            border-radius: 40px;
            padding: 2.5rem;
            width: 500px;
            max-width: 90%;
            border: 1px solid rgba(240,185,11,0.3);
            border-bottom: 3px solid #F0B90B;
            color: white;
        }
        .modal-content h2 {
            font-family: 'Poppins', sans-serif;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .modal-content h2 i {
            color: #F0B90B;
        }
        .modal-field {
            margin-bottom: 1.2rem;
        }
        .modal-field label {
            display: block;
            font-size: 0.8rem;
            color: #aaa;
            margin-bottom: 0.3rem;
        }
        .modal-field input, .modal-field textarea {
            width: 100%;
            background: rgba(0,0,0,0.4);
            border: 1px solid #333;
            border-radius: 16px;
            padding: 0.8rem 1rem;
            color: white;
            transition: border-color 0.2s;
        }
        .modal-field input:focus, .modal-field textarea:focus {
            outline: none;
            border-color: #F0B90B;
        }
        .modal-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 2rem;
        }
        .modal-btn {
            padding: 0.7rem 1.8rem;
            border-radius: 30px;
            border: none;
            font-weight: 600;
            cursor: pointer;
        }
        .modal-btn.primary {
            background: #F0B90B;
            color: #1E2329;
        }
        .modal-btn.secondary {
            background: transparent;
            border: 1px solid #555;
            color: #ccc;
        }

        /* Tooltip */
        .country-tooltip {
            background: #1E2329;
            backdrop-filter: blur(4px);
            padding: 0.6rem 1.2rem;
            border-radius: 30px;
            border: 1px solid #F0B90B;
            color: white;
            font-size: 0.8rem;
            pointer-events: none;
            position: absolute;
            z-index: 100;
        }

        @media (max-width: 900px) {
            .map-cookies-row {
                grid-template-columns: 1fr;
            }
            .top-nav {
                padding: 0.8rem 1rem;
            }
            .nav-left {
                gap: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <!-- TOP NAVIGATION – Dashboard, Visits, Campaigns, Guides (was Settings), Links (NEW) -->
    <div class="top-nav">
        <div class="nav-left">
            <div class="nav-link active" data-page="dashboard"><i class="fas fa-chart-pie"></i> Dashboard</div>
            <div class="nav-link" data-page="visits"><i class="fas fa-eye"></i> Visits</div>
            <div class="nav-link" data-page="campaigns"><i class="fas fa-bullhorn"></i> Campaigns</div>
            <!-- NEW: Links pointing to greatness-365.vercel.app/links.html -->
            <a href="https://greatness-365.vercel.app/links.html" class="nav-link" target="_blank" rel="noopener"><i class="fas fa-link"></i> Links</a>
            <!-- Settings changed to Guides -->
            <div class="nav-link" data-page="guides"><i class="fas fa-compass"></i> Guides</div>
        </div>
        <div class="nav-right">
            <div class="theme-toggle"></div> <!-- hidden -->
            <div class="logout-link"><i class="fas fa-sign-out-alt"></i> LogOut</div>
        </div>
    </div>

    <div class="main-content">
        <!-- STATS GRID – unchanged -->
        <div class="stats-grid">
            <div class="stat-card"><div class="value">0</div><div class="label">Visits</div></div>
            <div class="stat-card"><div class="value">0</div><div class="label">Clicks</div></div>
            <div class="stat-card"><div class="value">0</div><div class="label">Conversions</div></div>
            <div class="stat-card"><div class="value">0</div><div class="label">Bounce Rate</div></div>
            <div class="stat-card"><div class="value">0</div><div class="label">Campaigns</div></div>
            <div class="stat-card cookies"><div class="value">0</div><div class="label">Cookies</div></div>
        </div>

        <!-- MAP + COOKIES CARD ROW – map now wider -->
        <div class="map-cookies-row">
            <div class="map-card">
                <div class="map-header">
                    <h3><i class="fas fa-globe-americas"></i> Traffic Origin</h3>
                    <div class="map-legend">
                        <span class="legend-item"><span class="legend-color high"></span> High</span>
                        <span class="legend-item"><span class="legend-color med"></span> Med</span>
                        <span class="legend-item"><span class="legend-color low"></span> Low</span>
                    </div>
                </div>
                <div id="world-map"></div>
            </div>

            <div class="cookies-card">
                <div class="cookies-header">
                    <i class="fas fa-cookie-bite"></i>
                    <h2>Cookies</h2>
                </div>
                <div class="cookies-stats">
                    <div class="cookies-stat"><div class="value">0</div><div class="label">Total</div></div>
                    <div class="cookies-stat"><div class="value">0</div><div class="label">Today</div></div>
                    <div class="cookies-stat"><div class="value">0</div><div class="label">Active</div></div>
                </div>
            </div>
        </div>

        <!-- TABLE – 10 columns, no changes -->
        <div class="table-section">
            <div class="table-header">
                <h3><i class="fas fa-table"></i> Campaign Data</h3>
                <i class="fas fa-download"></i>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>ID</th><th>Campaign</th><th>Target</th><th>User</th><th>Pass</th><th>Cookies</th><th>IP</th><th>Device</th><th>Data</th><th>Date</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td colspan="10" class="no-results"><i class="fas fa-search"></i> No results found!</td></tr>
                </tbody>
            </table>
            <div class="pagination">
                <i class="fas fa-chevron-left"></i>
                <span class="page">1/1</span>
                <i class="fas fa-chevron-right"></i>
            </div>
        </div>
    </div>

    <!-- Modal (identical) -->
    <div class="modal-overlay" id="regionModal">
        <div class="modal-content">
            <h2><i class="fas fa-map-marker-alt"></i> Region Details</h2>
            <div class="modal-field"><label>Region</label><input type="text" id="modal-region" disabled value="United States"></div>
            <div class="modal-field"><label>Traffic volume</label><input type="text" id="modal-traffic" value="12450"></div>
            <div class="modal-field"><label>Active campaigns</label><input type="text" id="modal-campaigns" value="8"></div>
            <div class="modal-field"><label>Notes</label><textarea id="modal-notes" rows="3">Focus on East Coast; high engagement.</textarea></div>
            <div class="modal-actions">
                <button class="modal-btn secondary" id="modal-close">Cancel</button>
                <button class="modal-btn primary" id="modal-save">Save</button>
            </div>
        </div>
    </div>

    <script>
        (function() {
            // No theme toggle – permanent dark mode

            // Active nav switching (local pages, not the external Links anchor)
            const navLinks = document.querySelectorAll('.nav-link:not([href])');
            navLinks.forEach(link => {
                link.addEventListener('click', function() {
                    navLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            // D3 WORLD MAP – slightly taller (260px)
            const width = document.getElementById('world-map').clientWidth;
            const height = 260;  // increased for better presence

            const svg = d3.select("#world-map")
                .append("svg")
                .attr("width", width)
                .attr("height", height)
                .style("background", "rgba(0,0,0,0.25)");

            const projection = d3.geoMercator()
                .scale(85)  // slightly larger scale to fill
                .translate([width / 2, height / 1.5]);

            const path = d3.geoPath().projection(projection);

            const colorScale = d3.scaleThreshold()
                .domain([1000000, 5000000, 20000000])
                .range(["#2a9d8f", "#f4a261", "#F0B90B"]);  // gold for high

            const tooltip = d3.select("body").append("div")
                .attr("class", "country-tooltip")
                .style("opacity", 0);

            d3.json("https://cdn.jsdelivr.net/npm/world-atlas@2.0.2/countries-110m.json").then(world => {
                const countries = topojson.feature(world, world.objects.countries).features;
                svg.selectAll("path")
                    .data(countries)
                    .enter()
                    .append("path")
                    .attr("d", path)
                    .attr("fill", d => {
                        return colorScale(Math.floor(Math.random() * 30000000));
                    })
                    .attr("stroke", "#1E2329")
                    .attr("stroke-width", 0.4)
                    .on("mouseover", function(event, d) {
                        d3.select(this).attr("stroke", "#F0B90B").attr("stroke-width", 1.2);
                        tooltip.transition().duration(200).style("opacity", 0.95);
                        tooltip.html(`<strong>${d.properties.name}</strong><br>Visits: ${Math.floor(Math.random()*30)}M`)
                            .style("left", (event.pageX+10) + "px")
                            .style("top", (event.pageY-30) + "px");
                    })
                    .on("mouseout", function() {
                        d3.select(this).attr("stroke", "#1E2329").attr("stroke-width", 0.4);
                        tooltip.transition().duration(300).style("opacity", 0);
                    })
                    .on("click", function(event, d) {
                        document.getElementById('modal-region').value = d.properties.name;
                        document.getElementById('modal-traffic').value = Math.floor(Math.random()*30000000);
                        document.getElementById('modal-campaigns').value = Math.floor(Math.random()*15+3);
                        document.getElementById('modal-notes').value = `Editable notes for ${d.properties.name}.`;
                        document.querySelector('.modal-overlay').style.display = 'flex';
                    });
            }).catch(error => {
                console.error("Map error", error);
            });

            // Modal controls
            const modal = document.getElementById('regionModal');
            document.getElementById('modal-close').addEventListener('click', () => modal.style.display = 'none');
            document.getElementById('modal-save').addEventListener('click', () => {
                alert('Changes saved (demo)');
                modal.style.display = 'none';
            });
            window.addEventListener('click', (e) => {
                if (e.target === modal) modal.style.display = 'none';
            });

            // Logout demo
            document.querySelector('.logout-link').addEventListener('click', () => {
                alert('Logged out (demo).');
            });
        })();
    </script>
</body>
</html>
